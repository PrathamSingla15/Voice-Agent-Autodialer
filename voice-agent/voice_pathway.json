{"nodes":[{"id":"10001","type":"pre_call_api","data":{"label":"Load Contact Information","action":"Fetch contact details from database before starting the conversation","httpRequest":{"url":"https://ofrckoqruccqwedymylo.supabase.co/rest/v1/contacts_to_call","method":"GET","headers":{"isEnabled":true,"data":{"apikey":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9mcmNrb3FydWNjcXdlZHlteWxvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3ODMwOTIsImV4cCI6MjA3NDM1OTA5Mn0.EJmZyTz4lBIWfpP-glkCKYlyeYrN-Uc-szCiWpPcFFo","Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9mcmNrb3FydWNjcXdlZHlteWxvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3ODMwOTIsImV4cCI6MjA3NDM1OTA5Mn0.EJmZyTz4lBIWfpP-glkCKYlyeYrN-Uc-szCiWpPcFFo"}},"queryParameters":{"isEnabled":true,"data":"id=eq.{{contact_id}}"},"timeout":10},"responseData":{"isEnabled":true,"data":[{"name":"contact_name","path":"$.0.name","description":"Contact's full name"},{"name":"contact_phone","path":"$.0.phone","description":"Contact's phone number"}]},"variables":{"isEnabled":true,"data":[{"name":"contact_id","type":"string","description":"Contact UUID from n8n"}]},"type":"pre_call_api","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":-17.2596952038231,"y":-480.51905518753256},"width":320,"height":143,"selected":false,"dragging":true,"positionAbsolute":{"x":-17.2596952038231,"y":-480.51905518753256}},{"id":"10002","type":"default_node","data":{"label":"Opening & Name Verification","action":"Greet the contact and verify their identity. Say: 'Hello, may I speak with {{contact_name}}?' and confirm if you have reached the correct person.","staticText":false,"loopCondition":"Contact name must be confirmed","globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":true,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":true,"data":[{"name":"contact_name","type":"string","description":"Name to verify"}]},"type":"default_node","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":-9.601566302031259,"y":-285.1146406272497},"width":320,"height":157,"selected":false,"dragging":false,"positionAbsolute":{"x":-9.601566302031259,"y":-285.1146406272497}},{"id":"10003","type":"default_node","data":{"label":"Purpose & Consent","action":"Briefly explain the survey purpose and ask if now is a good time for a 2-minute conversation. Obtain consent to proceed.","staticText":false,"loopCondition":"Consent must be obtained","globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":false,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":false,"data":[]},"type":"default_node","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":219.347308569608,"y":102.89042748311124},"width":320,"height":137,"selected":false,"dragging":false,"positionAbsolute":{"x":219.347308569608,"y":102.89042748311124}},{"id":"10004","type":"default_node","data":{"label":"Workplace Question","action":"Ask where the contact currently works. Accept company name, self-employed, between jobs, or preferred not to say.","staticText":false,"loopCondition":"Workplace must be recorded","globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":false,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":true,"data":[{"name":"company_name","type":"string","description":"Company or workplace as stated"}]},"type":"default_node","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":258.65636116490344,"y":479.3082106445504},"width":320,"height":137,"selected":false,"dragging":false,"positionAbsolute":{"x":258.65636116490344,"y":479.3082106445504}},{"id":"10005","type":"default_node","data":{"label":"Job Role Question","action":"Ask what the contact does in their role. Record job title or a brief description as given.","staticText":false,"loopCondition":"Job role must be recorded","globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":false,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":true,"data":[{"name":"job_role","type":"string","description":"Job title or description"}]},"type":"default_node","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":-32.8950430502303,"y":714.3428099301818},"width":320,"height":121,"selected":false,"dragging":false,"positionAbsolute":{"x":-32.8950430502303,"y":714.3428099301818}},{"id":"10006","type":"end_call","data":{"label":"Thank & Close (Completed)","action":"Thank the contact by name, express appreciation, and end the call on a positive note. Disposition: completed.","staticText":false,"loopCondition":null,"globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":false,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":false,"data":[]},"type":"end_call","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":-32.83973592146998,"y":1014.611849870764},"width":320,"height":129,"selected":false,"dragging":false,"positionAbsolute":{"x":-32.83973592146998,"y":1014.611849870764}},{"id":"10007","type":"end_call","data":{"label":"Wrong Number","action":"Apologize for the mistake, thank the person, and end the call politely. Disposition: wrong_number.","staticText":false,"loopCondition":null,"globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":false,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":false,"data":[]},"type":"end_call","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":-711.9176468711963,"y":113.20325204806466},"width":320,"height":113,"selected":false,"dragging":false,"positionAbsolute":{"x":-711.9176468711963,"y":113.20325204806466}},{"id":"10008","type":"end_call","data":{"label":"Callback Requested","action":"Thank the person, note the preferred callback time, and end the call. Disposition: callback.","staticText":false,"loopCondition":null,"globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":false,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":false,"data":[]},"type":"end_call","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":929.9689396056903,"y":73.2649459121618},"width":320,"height":113,"selected":false,"dragging":false,"positionAbsolute":{"x":929.9689396056903,"y":73.2649459121618}},{"id":"10009","type":"end_call","data":{"label":"No Interest/Declined","action":"Remain polite, thank the person for their time, and end the call. Disposition: no_interest.","staticText":false,"loopCondition":null,"globalNode":null,"globalNodeLabel":null,"globalNodeDescription":null,"isStartNode":false,"knowledgeBase":"","useGlobalKnowledgeBase":true,"transferNumber":null,"useGPT":false,"variables":{"isEnabled":false,"data":[]},"type":"end_call","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":-183.5068212950982,"y":413.1801380007624},"width":320,"height":113,"selected":false,"dragging":false,"positionAbsolute":{"x":-183.5068212950982,"y":413.1801380007624}},{"id":"10010","type":"post_call_api","data":{"label":"Send Disposition Data","action":"","httpRequest":{"url":"https://prathamsingla4619.app.n8n.cloud/webhook/call-complete","method":"POST","headers":{"isEnabled":true,"data":{"Content-Type":"application/json"}},"authorization":{"isEnabled":false,"data":{"key":"","value":""}},"body":{"isEnabled":true,"data":"{\n  \"call_id\": \"{{call_id}}\",\n  \"disposition\": \"{{disposition}}\",\n  \"contact_verified\": \"{{contact_verified}}\",\n  \"company_name\": \"{{company_name}}\",\n  \"job_role\": \"{{job_role}}\",\n  \"call_duration_seconds\": \"{{call_duration_seconds}}\",\n  \"call_summary\": \"{{call_summary}}\",\n  \"next_action\": \"{{next_action}}\",\n  \"contact_id\": \"{{contact_id}}\",\n  \"contact_name\": \"{{contact_name}}\",\n  \"phone\": \"{{contact_phone}}\",\n  \"transcript\": \"{{transcript}}\",\n  \"recording_url\": \"{{recording_url}}\"\n}"},"timeout":10},"responseData":{"isEnabled":false,"data":[]},"variables":{"isEnabled":true,"data":[{"name":"call_id","type":"string","description":"Unique call identifier"},{"name":"disposition","type":"string","description":"Call outcome"},{"name":"contact_verified","type":"string","description":"Was contact verified"},{"name":"company_name","type":"string","description":"Company or workplace"},{"name":"job_role","type":"string","description":"Job title or description"},{"name":"call_duration_seconds","type":"string","description":"Call duration in seconds"},{"name":"call_summary","type":"string","description":"Brief summary of interaction"},{"name":"next_action","type":"string","description":"Next action if any"},{"name":"contact_id","type":"string","description":"Contact UUID from database"},{"name":"contact_name","type":"string","description":"Contact name"},{"name":"phone","type":"string","description":"Phone number called"},{"name":"transcript","type":"string","description":"Full call transcript"},{"name":"recording_url","type":"string","description":"URL to call recording"}]},"knowledgeBase":"","useGlobalKnowledgeBase":true,"type":"post_call_api","isDisconnected":false,"hasError":false,"validationErrors":[]},"position":{"x":-136.71800259212736,"y":1342.4115648393333},"width":320,"height":143,"selected":false,"dragging":false,"positionAbsolute":{"x":-136.71800259212736,"y":1342.4115648393333}}],"edges":[{"id":"20001","source":"10001","target":"10002","label":"data loaded","description":"Pre-call API data loaded successfully","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":true},{"id":"20002","source":"10002","target":"10003","label":"correct person","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20003","source":"10002","target":"10007","label":"wrong person","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20004","source":"10002","target":"10008","label":"person unavailable/callback","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20005","source":"10002","target":"10009","label":"hostile/declined","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20006","source":"10003","target":"10004","label":"consent given","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20007","source":"10003","target":"10008","label":"callback requested","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20008","source":"10003","target":"10009","label":"declined/no interest","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20009","source":"10004","target":"10005","label":"workplace recorded","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20010","source":"10005","target":"10006","label":"job role recorded","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"smoothstep","selected":false,"animated":false},{"id":"20011","source":"10006","target":"10010","label":"send completed data","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"direct","selected":false,"animated":true},{"id":"20012","source":"10007","target":"10010","label":"send wrong number data","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"direct","selected":false,"animated":true},{"id":"20013","source":"10008","target":"10010","label":"send callback data","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"direct","selected":false,"animated":true},{"id":"20014","source":"10009","target":"10010","label":"send no interest data","description":"","is_conditional_edge":false,"is_fallback_edge":false,"type":"direct","selected":false,"animated":true}]}